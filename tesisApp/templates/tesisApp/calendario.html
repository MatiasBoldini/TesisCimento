<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <title>Calendario Personalizado</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #000000;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }


    #calendario .dia-seleccionado {
      background-color: #9b0b0b; /* Verde */
      color: #fff;
    }



  #calendario {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    max-width: 700px;
    margin: auto;
    gap: 6px;
    background-color: rgb(0, 0, 0);
    padding: 10px;
    color: white;
  }

  .dia {
    width: 50px;
    height: 50px;
    text-align: center;
    line-height: 30px;
    margin: 2px;
    border-radius: 3px;
    cursor: pointer;
    border: 1px solid #ccc;
    background-color: #fff;
    color: black;

  }

  /* .dia {
      width: 100px;
      height: 100px;
      border: 1px solid #ccc;
      background-color: #fff;
      text-align: center;
      line-height: 100px;
    } */

  .dia-naranja{
      background-color: #9b0b0b;
      color: white;
    }



    .dia-nombre{
      margin-left: 11px;
      text-transform: uppercase;
    }





  </style>
</head>
<body>
  

  <div class="container mt-3">
    <div style="width: 300px;">
        <label for="meses" style="color: white;">Selecciona un mes:</label>
        <select id="mesSeleccionado" name="meses" class="form-select">
            <option value="1">Enero</option>
            <option value="2">Febrero</option>
            <option value="3">Marzo</option>
            <option value="4">Abril</option>
            <option value="5">Mayo</option>
            <option value="6">Junio</option>
            <option value="7">Julio</option>
            <option value="8">Agosto</option>
            <option value="9">Septiembre</option>
            <option value="10">Octubre</option>
            <option value="11">Noviembre</option>
            <option value="12">Diciembre</option>
        </select>
        <!-- <button id="botonMostrar" class="btn btn-primary">Mostrar Pedidos</button> -->
    </div>

    <div id="calendario" class="mt-2"></div>
</div>


  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>


  <script>

    //mostrarFechaEnCalendario(1, '2024-01-28');



    function onMesSeleccionadoChange() {
      const mesSeleccionado = document.getElementById('mesSeleccionado').value;
    
      const fechas = [
          '2024-05-15',
          '2024-05-16',
          '2024-01-25',
          '2024-07-02',
          '2024-08-10',
          '2024-09-18',
          '2024-10-03',
          '2024-11-08',
          '2024-11-20',
          '2024-12-01',
          '2024-02-10',
          '2024-03-15',
          '2024-09-22',
          '2024-05-07',
          '2024-06-12',
          '2024-09-24',
          '2024-08-03',
          '2024-09-19',
          '2024-10-28'
      ];

        
          
      mostrarFechasEnCalendario(parseInt(mesSeleccionado), fechas);
    }

    // Agregar evento de cambio al dropdown
    document.getElementById('mesSeleccionado').addEventListener('change', onMesSeleccionadoChange);


    document.getElementById('botonMostrar').addEventListener('click', function() {
        //   const fechaInput = document.getElementById('fechaInput').value;
        //   mostrarFechaEnCalendario(fechaInput);

        let mesSeleccionado = document.getElementById("mesSeleccionado").value


        // SELECT fecha FROM tesisApp_pedidos

        const fechas = [
          '2024-05-15',
          '2024-05-16',
          '2024-01-25',
          '2024-07-02',
          '2024-08-10',
          '2024-09-18',
          '2024-10-03',
          '2024-11-08',
          '2024-11-20',
          '2024-12-01',
          '2024-02-10',
          '2024-03-15',
          '2024-09-22',
          '2024-05-07',
          '2024-06-12',
          '2024-09-24',
          '2024-08-03',
          '2024-09-19',
          '2024-10-28'
      ];

        //mostrarFechaEnCalendario(fechas)
        //mostrarDiasDelMesSeleccionado(messs);

          
        mostrarFechasEnCalendario(parseInt(mesSeleccionado), fechas);
    });


  function mostrarFechaEnCalendario(mes, fecha) {
    const calendario = document.getElementById('calendario');
    calendario.innerHTML = ''; // Limpiar el contenido del calendario

    const fechaSeleccionada = new Date(fecha);


    fechita = fechaSeleccionada.getDate()
    const mesSeleccionado = mes; // Utilizar el mes proporcionado como parámetro

    // Establecer la fecha seleccionada al primer día del mes
    fechaSeleccionada.setDate(1);

    const primerDiaMes = new Date(fechaSeleccionada.getFullYear(), mesSeleccionado - 1, 1);
    const diaSemana = primerDiaMes.getDay();

    // Agregar nombres de los días
    const nombresDias = ['Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab', 'Dom'];
    for (const nombreDia of nombresDias) {
        const diaNombre = document.createElement('div');
        diaNombre.classList.add('dia-nombre');
        diaNombre.innerText = nombreDia;
        calendario.appendChild(diaNombre);
    }

    // Ajustar días anteriores al mes
    const ajuste = (diaSemana === 0) ? 6 : diaSemana - 1; // Ajustar para que lunes sea 0 y domingo 6
    for (let i = 0; i < ajuste; i++) {
        const diaAnterior = document.createElement('div');
        diaAnterior.classList.add('dia');
        calendario.appendChild(diaAnterior);
    }

    // Agregar días del mes
    const diasEnMes = new Date(fechaSeleccionada.getFullYear(), mesSeleccionado, 0).getDate();
    for (let i = 1; i <= diasEnMes; i++) {
        const dia = document.createElement('div');
        dia.classList.add('dia');
        dia.innerText = i;


        // Corregir la condición para resaltar en naranja el día que coincide con el mes
        if (mesSeleccionado === fechaSeleccionada.getMonth() + 1 && i === fechita + 1 ) {
          dia.classList.add('dia-naranja');
        }

        calendario.appendChild(dia);
    }
}


  function mostrarFechasEnCalendario(mes, fechas) {
    const calendario = document.getElementById('calendario');
    calendario.innerHTML = ''; // Limpiar el contenido del calendario

    const mesSeleccionado = mes; // Utilizar el mes proporcionado como parámetro

    const primerDiaMes = new Date(new Date().getFullYear(), mesSeleccionado - 1, 1);
    const diaSemana = primerDiaMes.getDay();

    // Agregar nombres de los días
    const nombresDias = ['lun', 'mar', 'mie', 'jue', 'vie', 'sab', 'dom'];
    for (const nombreDia of nombresDias) {
        const diaNombre = document.createElement('div');
        diaNombre.classList.add('dia-nombre');
        diaNombre.innerText = nombreDia;
        calendario.appendChild(diaNombre);
    }

    // Ajustar días anteriores al mes
    const ajuste = (diaSemana === 0) ? 6 : diaSemana - 1; // Ajustar para que lunes sea 0 y domingo 6
    for (let i = 0; i < ajuste; i++) {
        const diaAnterior = document.createElement('div');
        diaAnterior.classList.add('dia');
        calendario.appendChild(diaAnterior);
    }

    // Agregar días del mes
    const diasEnMes = new Date(new Date().getFullYear(), mesSeleccionado, 0).getDate();
    for (let i = 1; i <= diasEnMes; i++) {
        const dia = document.createElement('div');
        dia.classList.add('dia');
        dia.innerText = i;

        dia.addEventListener('click', function() {
            console.log(`En la grilla deberáan aparecer los pedidos del dia ${i} del mes ${name}`)
        });

        // Corregir la condición para resaltar en naranja el día que coincide con el mes
        if (fechas.some(fecha => new Date(fecha).getMonth() + 1 === mesSeleccionado && i === new Date(fecha).getDate() + 1)) {
            dia.classList.add('dia-naranja');
        }

        calendario.appendChild(dia);
    }
  }



  </script>
</body>
</html>
